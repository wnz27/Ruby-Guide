# 条件判断
详细讨论一下作为控制结构之一的条件判断，主要包括以下内容。
- 什么是条件判断
- 条件判断中不可或缺的比较运算符、真假值（布尔值）、逻辑运算符
- 条件判断的种类及其写法和使用方法

## 5.1 什么是条件判断
> 我们来考虑一下如何将公历转换为平成纪年（日本的纪年方法。1989 年为平成元年，2017 年是平成 29 年）。
首先，我们将输入的字符串转换为数值，然后减去 1988，最后输出运算结果，结束程序，如[ad2pingcheng](./ad2pingcheng.rb)里代码所示
执行结果如下：
```
> ruby ad2pingcheng.rb 2016
28
```
但是，这个程序有点小问题。如果我们输入 1988 年以前的年份，返回值会变成 0 或者负数。比如：
```
> ruby ad2pingcheng.rb 1980
-8
```
按道理，1989 年以前的年份是不能转换为平成 ×× 年的，因此程序本不应允许输入示例中那样的年份。

我们将程序稍微改进一下，若输入 1989 年以前的年份，程序则返回“无法转换”的提示。

在这样的情况下，为了实现程序在“某个条件时执行○○处理，否则执行 ×× 处理”，Ruby 为我们准备了条件判断语句。

条件判断语句主要有以下三种。
- if 语句
- unless 语句
- case 语句

## 5.2 Ruby中的条件

### 条件与真假值（布尔值）
#### 条件
我们在之前的章节已经介绍过在**条件判断**中常用到的比较运算符。等号 = =，不等号 >、< 等都是比较运算符。

比较的结果分为 true 和 false 两种。顾名思义，比较结果正确时为 true，错误时为 false。

除了比较运算符外，Ruby 中还有很多可以作为条件判断的方法。例如，字符串类的 empty? 方法，在该字符串的长度为 0 时返回 true，否则返回 false。
```
p "".empty?         #=> true
p "AAA".empty?      #=> false
```
另外，除了 true 和 false 外，还有其他值可作为条件判断的值。例如，用正则表达式进行匹配时，匹配成功返回该字符串的位置，匹配失败返回 nil。
```
p /Ruby/ =~ "Ruby"      #=> 0
p /Ruby/ =~ "Diamond"   #=> nil
```
#### 真假值（布尔值）
真|false、nil以外的所有对象|
:-|:-
假|false、nil|

也就是说，Ruby 会认为 false 与 nil 代表假，除此以外的所有值都代表真。

因此，Ruby 中的真 / 假并非绝对等同于 true/false。同时，不返回 true 或 false 的方法只要能返回 nil，也可作为条件判断的表达式来使用。

在 Ruby 中还有个约定俗成的规则，为了使程序更容易理解，**返回真假值的方法都要以 ? 结尾**。建议大家在写程序时也遵守这个规则。

## 5.3 逻辑运算符
> 在判断多个条件表达式时，我们会用到逻辑运算符 && 和 ||。
