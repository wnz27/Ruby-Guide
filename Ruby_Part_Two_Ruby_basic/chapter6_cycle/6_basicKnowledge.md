# 第六章：循环
与条件判断一样，循环也遍布于程序的各个角落，是程序中不可缺少的重要组成部分。 本章我们将会探讨以下内容。
- 程序中的循环是什么
- 写循环时需要注意的事项
- 循环的种类及其写法

## 6.1 循环的基础
> 我们在编写程序时，常常会遇到希望某个处理重复执行多次的情况。

例如：
- 在屏幕中显示十条直线

更复杂的点的例子有：

- 用其他对象替换数组中的所有元素
- 不断读取文件夹直到打开文件为止

这时我们都需要循环。接下来，我们将会介绍 Ruby 中基本的循环结构。

其中比较特别的是，除了用传统的循环语句实现循环外，还能用方法来实现循环，也就是说，我们可以根据自己的需要**定制循环**方法。 

关于如何定制循环 , 我们会在[第 11 章]("第11章基础知识")再详细说明，这里先介绍一些预定义的循环语法结构。

## 6.2 循环注意事项
- 循环做什么
- 停止循环的条件是什么

## 6.3 实现循环的方法
- 使用循环语句
    利用 Ruby 提供的现有的循环语句，可以满足大部分循环处理的需求
- 使用方法实现循环
    将块传给方法，然后在块里面写上需要循环的处理。一般在为了某种特定目的而需要定制循环结构时，才使用方法来实现循环。

六种循环语句或方法：
- times方法
- while语句
- each方法
- for语句
- until语句
- loop方法

## 6.4 times方法
> 如果只是单纯执行一定次数的处理，用 times 方法可以很轻松地实现。
假设我们希望把“满地油菜花”这个字符串连续输出:[times.rb](./times.rb)

使用 times 方法实现循环时，需要用到块 do~end。
```
循环次数.times do 
    希望循环的处理
end
```
do~end 部分可以用{~}代替，如下所示。
```
循环次数.times { 
    希望循环的处理
}
```
使用 times 方法时也可以**获知块中当前的循环次数。**
```
5.times do |i|
    '
    '
   end
```
这样就可以把**当前的循环次数**赋值给变量 i。我们来看看实际的例子:[times2.rb](./times2.rb)

请注意循环的次数是从 0 开始计算的。把循环次数的初始值设为 1 不失为一个好方法，

但可惜我们不能这么做，因此如果想从 1 开始计算，只能在**块中对循环次数做调整**:[times3.rb](./times3.rb)

但是，这样的写法会使变量 i 的值与实际输出的值产生差异。从降低程序复杂度来看，这并不是一个好的编程习惯。

若是对循环次数比较在意，我们不必勉强使用 times 方法，可使用下面即将介绍的 for 语句和 while 语句。

## 6.5 for 语句
> for 语句同样是用于实现循环的。需要注意的是，与刚才介绍的 times 方法不同，for 并不是方法，而是 Ruby 提供的循环控制语句。
这是使用 for 语句的典型示例：[for.rb](./for.rb)

这是一个求从 1 到 5 累加的程序。for 语句的结构如下所示。
```
for 变量 in 开始时的数值..结束时的数值 do 
    希望循环的处理
end
```
※ 可以省略 do。

for 语句与 times 方法不一样，循环的开始值和结束值可以任意指定。

例如，我们想计算 从变量 from 到变量 to 累加的总数，使用 times 方法的程序为:
```
from = 10
to = 20
sum = 0
(to - from + 1).times do |i|
    sum = sum + (i + from)
end
puts sum
```
使用 for 语句的程序为:
```
from = 10
to = 20
sum = 0
for i in from..to
    sum = sum + i
end
puts sum
```
使用 for 语句后的程序变得更加简单了。另外，sum = sum + i这个式子也有更简单的写法。
```
sum += i
```
本例是加法的简写，减法、乘法时也同样可以这样省略。
```
a -= b 
a *= b
```

## 6.6 普通的for语句
> 其实上一节介绍的是 for 语句的特殊用法
普通的 for 语句如下所示
```
for 变量 in 对象 do 
    希望循环的处理
end
```
可以看出，in 后面的部分和之前介绍的有点不同。

但和之前的 for 语句相比也并非完全不一样。实际上，.. 或者 ... 都是创建范围对象时所需的符号。

当然，并非任何对象都可以指定给 for 语句使用。这是使用数组对象的例子：[for_names.rb](./for_names.rb)

## 6.7 while语句
> 不管哪种类型的循环，while 语句都可以胜任
while 语句的结构如下所示
```
while 条件 do 
    希望循环的处理
end
```
※ 可以省略 do。

这几行程序的意思就是，只要条件成立，就会不断地重复循环处理。我们来看看示例：[while.rb](./while.rb)

再来写一个使用 while 语句的程序。把之前使用 for 语句写的程序[for.rb](./for.rb)改写为使用 while 语句的程序：[while2.rb](./while2.rb)

只要 for 语句能实现的循环，就没必要特意将它改写为 while 语句。但是在某些情况下，使用 while 语句会更便于理解:
[while3.rb](./while3.rb)

## 6.8 until 语句
